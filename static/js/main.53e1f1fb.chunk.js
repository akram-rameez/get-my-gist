(this["webpackJsonpget-my-gist"]=this["webpackJsonpget-my-gist"]||[]).push([[0],{21:function(t,e,n){},22:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n.n(r),a=n(13),s=n.n(a),u=(n(21),n(3)),o=(n(22),n(2)),i=n.n(o),f=n(5),h=n(14),l=n(15),p=n(16),b=n(7),j="https://api.github.com",g=36e5;function d(t){return Object(b.a)(Object(b.a)({},t),{},{time:Date.now()})}var O=new(function(){function t(){Object(l.a)(this,t),this.requestsLog=[]}return Object(p.a)(t,[{key:"fetch",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=Object(f.a)(i.a.mark((function t(e){var n,r,c,a,s,u,o,f,l,p=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},r=p.length>2&&void 0!==p[2]?p[2]:{},this.requestsLog.length&&(c=Object(h.a)(this.requestsLog),a=c[0],s=c.slice(1),u=a.time,Date.now()-u<g?this.requestLog=s:console.warn("Already completed ".concat(this.requestlog.length," requests in throttle window"))),this.requestsLog.push(d({url:e})),o=n.method,f=new URL("".concat(j).concat(e)),"GET"===o&&(f.search=new URLSearchParams(r).toString()),t.next=9,fetch(f,Object(b.a)(Object(b.a)({},n),["POST","UPDATE"].includes(o)?{data:JSON.stringify(r)}:{}));case 9:return l=t.sent,t.prev=10,t.abrupt("return",l.json());case 14:t.prev=14,t.t0=t.catch(10),console.log(t.t0);case 17:return t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,this,[[10,14]])})));return function(e){return t.apply(this,arguments)}}())}]),t}()),m=n(0),v=function(t){var e=t.onSuccessfulSearch,n=c.a.useState(""),r=Object(u.a)(n,2),a=r[0],s=r[1],o=c.a.useCallback(function(){var t=Object(f.a)(i.a.mark((function t(n){var r,c,a,o,f,h,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=new FormData(n.target),c=r.get("username"),t.next=5,O.fetch("/search/users",{method:"GET"},{q:c});case 5:a=t.sent,o=a.total_count,f=a.items,1===o?(s(""),h=Object(u.a)(f,1),l=h[0].login,e(l)):s(o>0?"multiple users found":"no user found");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(m.jsxs)("form",{onSubmit:o,children:[Object(m.jsx)("input",{type:"string",required:!0,name:"username"}),Object(m.jsx)("button",{type:"submit",children:"Search"}),Object(m.jsx)("div",{children:a})]})};v.defaultProps={onSuccessfulSearch:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return console.log(e)}};var S=v,w=n(12),x=function(){var t=Object(f.a)(i.a.mark((function t(e,n,r){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.fetch("/users/".concat(e,"/gists"),{method:"GET"});case 2:c=t.sent,r(c);case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),y=function(t){var e=t.username,n=c.a.useState([]),r=Object(u.a)(n,2),a=r[0],s=r[1],o=c.a.useCallback((function(t){s((function(e){return[].concat(Object(w.a)(e),Object(w.a)(t))}))}),[]);return c.a.useEffect((function(){x(e,0,o)}),[]),Object(m.jsxs)("div",{children:["found ",a.length," gists"]})};var q=function(){var t=c.a.useState(null),e=Object(u.a)(t,2),n=e[0],r=e[1];return Object(m.jsxs)("div",{className:"App",children:[!n&&Object(m.jsx)(S,{onSuccessfulSearch:r}),n,!!n&&Object(m.jsx)(y,{username:n})]})},L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),r(t),c(t),a(t),s(t)}))};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(q,{})}),document.getElementById("root")),L()}},[[25,1,2]]]);
//# sourceMappingURL=main.53e1f1fb.chunk.js.map